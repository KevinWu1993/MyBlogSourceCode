---
title: Java的强软弱虚引用
date: 2016-05-04
author:  KevinWu
categories: Java
tags: 
	- Java 
	- 引用
	- 基础
---
Java中有四大引用，分别为强引用、软引用、弱引用和虚引用，下面先看一下这四种引用的直观对比：


 引用类型 |  回收时机 | 用途 | 生存时间 
---------------- |  ----|  --|  ----
强引用 | 从来不会 | 对象的一般状态 | JVM停止运行时终止
软引用 | 在内存不足时 | 对象缓存 | 内存不足时终止
弱引用 | 在垃圾回收时 | 对象缓存 | GC运行后终止
虚引用 | 在垃圾回收时 | 对象跟踪 | GC运行后终止
<!--more-->

1. 强引用：
如果一个对象具有强引用，他就不会被垃圾回收器回收，即当内存空间不足时，JVM也不会回收它，而是抛出OutOfMemory异常，使程序异常终止。如果想中断引用某个对象之间的关联，可以显示地赋值为null，这样一来的话，JVM在合适的时间就会回收该对象。

2. 软引用：
在使用软引用时，如果内存空间足够，软引用就能被继续使用，而不会被垃圾回收器回收，只有当内存空间不足时，软引用才会被垃圾回收器回收。

3. 弱引用：
只有弱引用的对象拥有的生命周期更短暂，因为当JVM进行垃圾回收时一旦发现弱引用的对象，无论当前内存控件是否充足，都会将弱引用对象进行回收。不过由于垃圾回收器是一个优先级比较低的线程，所以并不一定能迅速发现弱引用对象。

4. 虚引用
顾名思义，就是形同虚设，如果一个对象持有虚引用，那就相当于没有引用，随时都有可能被回收。


